(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-studentMain"],{"23a6":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={uIcon:n("d579").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"profile-container"},[n("v-uni-view",{staticClass:"student-name selectable-text"},[t._v("欢迎您："+t._s(t.full_name)+"("+t._s(t.nationality)+")")]),n("v-uni-view",{staticClass:"head-container"},[n("v-uni-view",{staticClass:"avatar-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewAvatar.apply(void 0,arguments)}}},[n("v-uni-image",{staticClass:"avatar",attrs:{src:t.avatarUrl,mode:"aspectFill"}})],1)],1),n("v-uni-view",{staticClass:"logout-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoLogout.apply(void 0,arguments)}}},[t._v("退出")]),n("v-uni-view",{staticClass:"status",class:{admitted:0===t.offer_status,pending:1===t.offer_status}},[t._v(t._s(0===t.offer_status?"🎉 已录取":"⏳ 尚未录取"))]),0===t.offer_status?n("v-uni-view",{staticClass:"student-info"},[n("v-uni-view",{staticClass:"info-item"},[n("v-uni-text",{staticClass:"info-label"},[t._v("学号：")]),n("v-uni-text",{staticClass:"info-value selectable-text"},[t._v(t._s(t.student_id))])],1),n("v-uni-view",{staticClass:"info-item"},[n("v-uni-text",{staticClass:"info-label"},[t._v("校区：")]),n("v-uni-text",{staticClass:"info-value selectable-text"},[t._v(t._s(t.student_campus))])],1),n("v-uni-view",{staticClass:"info-item"},[n("v-uni-text",{staticClass:"info-label"},[t._v("type_of_programme：")]),n("v-uni-text",{staticClass:"info-value selectable-text"},[t._v(t._s(t.type_of_programme))])],1),n("v-uni-view",{staticClass:"info-item"},[n("v-uni-text",{staticClass:"info-label"},[t._v("country_type：")]),n("v-uni-text",{staticClass:"info-value selectable-text"},[t._v(t._s(0===t.country_type?"发展中国家":"发达国家"))])],1),n("v-uni-view",{staticClass:"info-item"},[n("v-uni-text",{staticClass:"info-label"},[t._v("scholarship：")]),n("v-uni-text",{staticClass:"info-value selectable-text"},[t._v(t._s(t.scholarship)+" %折扣")])],1)],1):t._e(),n("v-uni-view",{staticClass:"menu-container"},[n("v-uni-view",{staticClass:"menu-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoApply.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"/static/Group of 21 Objects.png",size:"90"}}),n("v-uni-text",[t._v("入学申请")])],1),n("v-uni-view",{staticClass:"menu-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoMyApplications.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"/static/Group of 26 Objects.png",size:"90"}}),n("v-uni-text",[t._v("我的申请")])],1),n("v-uni-view",{staticClass:"menu-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoSelectCourse.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"/static/Group of 23 Objects.png",size:"90"}}),n("v-uni-text",[t._v("我要选课")])],1),n("v-uni-view",{staticClass:"menu-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoMyCourses.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"/static/Group of 20 Objects.png",size:"90"}}),n("v-uni-text",[t._v("我的课程")])],1),n("v-uni-view",{staticClass:"menu-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoMyClassSchedule.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"/static/Group of 24 Objects.png",size:"90"}}),n("v-uni-text",[t._v("我的课表")])],1),n("v-uni-view",{staticClass:"menu-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoPay.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"/static/Group of 13 Objects.png",size:"90"}}),n("v-uni-text",[t._v("费用待缴")])],1),n("v-uni-view",{staticClass:"menu-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoMyScore.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"/static/my result.png",size:"90"}}),n("v-uni-text",[t._v("我的成绩")])],1)],1)],1)],1)},o=[]},4745:function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,".container[data-v-22d31614]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh; /* 让页面自动填充屏幕 */background-color:#f7f7f7;background-image:url(/static/web_main_bg.png); /* 替换为你的背景图片路径 */background-size:cover;background-position:50%;background-repeat:no-repeat;padding:%?20?%}.profile-section[data-v-22d31614]{position:absolute;top:%?120?%;left:%?40?%;color:#fff;font-size:%?36?%;font-weight:700}.username[data-v-22d31614]{font-size:%?36?%;color:#333;margin-top:%?10?%;font-weight:700}.menu-container[data-v-22d31614]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-evenly; /* 让菜单项均匀分布 */gap:%?20?%; /* 控制行间距 */margin-top:%?30?%}.menu-item[data-v-22d31614]{width:30%; /* 确保每行 3 个 */display:flex;flex-direction:column;align-items:center;justify-content:center;padding:%?20?%;background-color:#fff;border-radius:%?20?%;box-shadow:0 %?4?% %?10?% rgba(0,0,0,.1)}.menu-item uni-text[data-v-22d31614]{margin-top:%?10?%;font-size:%?28?%;color:#333}.profile-container[data-v-22d31614]{position:absolute;height:auto;width:100%;top:%?120?%;align-items:center;color:#fff;display:flex;flex-direction:column;gap:%?30?% /* 控制间距 */}\n\n/* 学生姓名 */.student-name[data-v-22d31614]{font-size:%?55?%}\n\n/* 录取状态样式 */.status[data-v-22d31614]{font-size:%?32?%;font-weight:700;padding:%?10?% %?20?%;border-radius:%?10?%;width:-webkit-fit-content;width:fit-content}\n\n/* 录取状态颜色变化 */.status.admitted[data-v-22d31614]{background-color:#28a745;color:#fff}.status.pending[data-v-22d31614]{background-color:orange;color:#fff}\n\n/* 学号 & 校区 */.info-item[data-v-22d31614]{display:flex;align-items:left;font-size:%?30?%}.student-info[data-v-22d31614]{display:flex;flex-direction:column; /* 让信息垂直排列 */align-items:left;justify-content:center;font-size:%?30?%;background-color:#f7f7f7;padding:%?20?%;border-radius:%?16?%; /* 增加圆角，使界面更柔和 */box-shadow:0 %?4?% %?10?% rgba(0,0,0,.1); /* 添加轻微阴影增加层次感 */gap:%?10?%; /* 增加间距，使内容更清晰 */text-align:center}.info-label[data-v-22d31614]{color:#333;font-weight:700;margin-right:%?10?%}.info-value[data-v-22d31614]{color:#333}.head-container[data-v-22d31614]{display:flex;flex-direction:column; /* 让头像和按钮垂直排列 */align-items:center;padding:%?20?%}.avatar-box[data-v-22d31614]{width:%?250?%;height:%?250?%;border-radius:50%;overflow:hidden;box-shadow:0 0 %?10?% rgba(0,0,0,.2);margin-bottom:%?20?% /* 让头像和按钮有一定间距 */}.avatar[data-v-22d31614]{width:100%;height:100%}.button[data-v-22d31614]{flex-shrink:0;width:%?200?%}.logout-btn[data-v-22d31614]{width:%?120?%;position:absolute;top:%?40?%;right:%?40?%;background-color:red;color:#fff;padding:%?10?% %?20?%;border-radius:%?10?%;font-size:%?28?%;text-align:center}.selectable-text[data-v-22d31614]{-webkit-user-select:text;user-select:text; /* 允许文本复制 */word-wrap:break-word}",""]),t.exports=e},"5a61":function(t,e,n){var a=n("4745");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("3f3a4cf9",a,!0,{sourceMap:!1,shadowMode:!1})},"6c01":function(t,e,n){"use strict";n.r(e);var a=n("74ab"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"74ab":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{avatarUrl:"",full_name:"",nationality:"",email:"",offer_status:1,student_id:"",student_campus:"",type_of_programme:"",country_type:0,scholarship:0}},onLoad:function(){var t=uni.getStorageSync("user_info");t&&(this.full_name=t.user_name,console.log(this.full_name),this.full_name&&this.initData())},onShow:function(){this.full_name||uni.navigateTo({url:"/pages/index/loginSys"})},methods:{previewAvatar:function(){uni.previewImage({urls:[this.avatarUrl],current:this.avatarUrl,indicator:"default",loop:!1})},initData:function(){uni.showLoading({title:"初始化..."});var t=this;uni.request({url:"https://mbtsserver.onrender.com/api/queryMBTSRegisterUserDetail?student_id=&full_name="+t.full_name+"&key=registeruser1739935308mbts",method:"GET",success:function(e){uni.hideLoading(),console.log(e),console.log(e.data.desc),200===e.data.code?(t.avatarUrl=e.data.data[0].avatar_url,t.offer_status=e.data.data[0].offer_status,console.log("offer_status is "+t.offer_status),0===t.offer_status&&(t.student_id=e.data.data[0].student_id,t.student_campus=e.data.data[0].student_campus,t.type_of_programme=e.data.data[0].type_of_programme,t.country_type=e.data.data[0].country_type,t.scholarship=e.data.data[0].scholarship,t.email=e.data.data[0].email,t.nationality=e.data.data[0].nationality)):uni.showModal({content:e.data.desc||"失败",showCancel:!1})},fail:function(t){uni.hideLoading(),console.log(t),uni.showModal({title:"错误",content:"请求失败，请检查网络连接",showCancel:!1})}})},gotoApply:function(){uni.setStorageSync("student_info",{full_name:this.full_name}),uni.navigateTo({url:"/pages/index/student/apply"})},gotoMyApplications:function(){uni.setStorageSync("student_info",{full_name:this.full_name}),uni.navigateTo({url:"/pages/index/student/myApplications"})},gotoMyClassSchedule:function(){0===this.offer_status?(uni.setStorageSync("student_info",{full_name:this.full_name}),uni.navigateTo({url:"/pages/index/student/myClassSchedule"})):uni.showModal({content:"抱歉，尚未录取。",showCancel:!1})},gotoPay:function(){0===this.offer_status?(uni.setStorageSync("student_info",{full_name:this.full_name,nationality:this.nationality}),uni.navigateTo({url:"/pages/index/student/myFees"})):uni.showModal({content:"抱歉，尚未录取。",showCancel:!1})},gotoMyScore:function(){0===this.offer_status?(uni.setStorageSync("student_info",{full_name:this.full_name,student_id:this.student_id,campus_name:this.student_campus,type_of_programme:this.type_of_programme,country_type:this.country_type,scholarship:this.scholarship}),uni.navigateTo({url:"/pages/index/student/myScore"})):uni.showModal({content:"抱歉，尚未录取。",showCancel:!1})},gotoSelectCourse:function(){0===this.offer_status?(uni.setStorageSync("student_info",{full_name:this.full_name,student_id:this.student_id,campus_name:this.student_campus,type_of_programme:this.type_of_programme,country_type:this.country_type,scholarship:this.scholarship,email:this.email}),uni.navigateTo({url:"/pages/index/student/selectCourse"})):uni.showModal({content:"抱歉，尚未录取，不能选课！",showCancel:!1})},gotoMyCourses:function(){0===this.offer_status?(uni.setStorageSync("student_info",{full_name:this.full_name,student_id:this.student_id,campus_name:this.student_campus,type_of_programme:this.type_of_programme,country_type:this.country_type,scholarship:this.scholarship}),uni.navigateTo({url:"/pages/index/student/myCourses"})):uni.showModal({content:"抱歉，尚未录取。",showCancel:!1})},gotoLogout:function(){var t=this;uni.showModal({title:"退出系统",content:"确定要退出系统吗？",success:function(e){e.confirm&&(t.full_name="",uni.removeStorageSync("student_info"),uni.navigateTo({url:"/pages/index/loginSys"}))}})},playAudio:function(){var t=this;this.text?(uni.showLoading({title:"处理中..."}),uni.request({url:"http://localhost:5000/tts",method:"POST",header:{"Content-Type":"application/json"},data:{text:this.text},success:function(e){uni.hideLoading(),console.log(e),e.data&&e.data.url?t.audioUrl=e.data.url:uni.showToast({title:"语音合成失败",icon:"none"})},fail:function(t){uni.hideLoading(),console.log(t)}})):uni.showToast({title:"请输入内容",icon:"none"})}}};e.default=a},f2c9:function(t,e,n){"use strict";var a=n("5a61"),i=n.n(a);i.a},fb28:function(t,e,n){"use strict";n.r(e);var a=n("23a6"),i=n("6c01");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("f2c9");var s=n("828b"),u=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"22d31614",null,!1,a["a"],void 0);e["default"]=u.exports}}]);