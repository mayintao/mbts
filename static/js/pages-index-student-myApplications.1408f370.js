(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-student-myApplications"],{2355:function(n,t,a){"use strict";a.d(t,"b",(function(){return e})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i}));var i={uForm:a("2515").default,uButton:a("c425").default},e=function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"title-wrapper"},[a("v-uni-text",{staticClass:"title"},[n._v("我的申请")])],1),a("v-uni-view",{staticClass:"subtitle-wrapper"},[a("v-uni-text",{staticClass:"subtitle"},[n._v("如需修改信息请与我们您联系。")])],1)],1),a("v-uni-view",{staticClass:"form-card"},[a("u-form",[a("v-uni-text",{staticClass:"section-title"},[n._v("👤 个人信息")]),a("v-uni-view",{staticClass:"head-container"},[a("v-uni-view",{staticClass:"avatar-box",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.previewAvatar.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"avatar",attrs:{src:n.avatarUrl,mode:"aspectFill"}})],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("中文名称")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.full_name))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("英文名称")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.english_name))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("出生日期")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.birthday))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("性别")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.gender))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("Nationality")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input"},[n._v(n._s(n.form.nationality))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("身份证号码（大马公民）/护照号码（非大马公民）")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.idcard_or_passport))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("持有任何大马长期签证（非大马公民）")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.visa_type))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("学生ID")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.student_id))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("录取状态")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input",style:{color:0===n.offer_status?"green":"red",fontWeight:"bold"}},[n._v(n._s(0===n.offer_status?"🎉 恭喜，已录取":"⚠️ 尚未录取"))])],1)],1),a("v-uni-text",{staticClass:"section-title"},[n._v("👤 通讯资料")]),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("Email")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.form.email))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("Phone Number")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.form.phoneNumber))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("Current Church/Organization")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.form.currentChurch))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("通讯地址")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.form.address))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("紧急联络人信息")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.emergency_contact))])],1)],1),a("v-uni-text",{staticClass:"section-title"},[n._v("🏠 住宿信息")]),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("Housing Status")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input"},[n._v(n._s(n.form.housingStatus))])],1)],1),a("v-uni-text",{staticClass:"section-title"},[n._v("🏫 学校信息")]),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("Student Campus")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.student_campus))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("Program")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.program))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("All Credit")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input"},[n._v("总 "+n._s(n.all_credit)+" 学分")])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("Program Code")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.program_code))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("Type Of Programme")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.type_of_programme))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("Program Description")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.program_description))])],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-text",{staticClass:"form-label"},[n._v("学生模式")]),a("v-uni-view",{staticClass:"input-wrapper"},[a("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.student_type))])],1)],1),a("v-uni-text",{staticClass:"file-title"},[n._v("录取相关文件")]),a("v-uni-scroll-view",{staticClass:"file-list",attrs:{"scroll-y":!0}},n._l(n.listData,(function(t,i){return a("v-uni-view",{key:i,staticClass:"file-card"},[a("v-uni-view",{staticClass:"file-header"},[a("v-uni-text",{staticClass:"file-name selectable-text"},[n._v(n._s(t.file_name))])],1),a("v-uni-view",{staticClass:"file-header",on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.copyLink(t.file_url)}}},[a("v-uni-text",{staticClass:"link-text"},[n._v("点击复制文件链接")])],1),a("v-uni-view",{staticClass:"file-header"},[a("v-uni-text",{staticClass:"file-time"},[n._v(n._s(t.time))])],1)],1)})),1)],1),a("v-uni-view",{staticClass:"btn-container"},[a("u-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.deleteApplication.apply(void 0,arguments)}}},[n._v("删除该入学申请")])],1)],1)],1)},s=[]},"5c69":function(n,t,a){"use strict";var i=a("e572"),e=a.n(i);e.a},"997a":function(n,t,a){"use strict";a.r(t);var i=a("ba50"),e=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(n){a.d(t,n,(function(){return i[n]}))}(s);t["default"]=e.a},"9c6f":function(n,t,a){var i=a("c86c");t=i(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 容器 */.container[data-v-2fc2225a]{display:flex;flex-direction:column;background-color:#f8f9fa;min-height:100vh;padding:%?20?%;align-items:center}\n/* 标题区域 */.header[data-v-2fc2225a]{text-align:center;margin-bottom:%?40?% /* 保持整体下边距 */}\n/* 标题样式 */.title-wrapper[data-v-2fc2225a]{margin-bottom:%?20?% /* 🔥 让标题和副标题分开 */}.title[data-v-2fc2225a]{font-size:%?42?%;font-weight:700;color:#333}\n/* 副标题样式 */.subtitle-wrapper[data-v-2fc2225a]{margin-top:%?10?% /* 确保副标题和标题有适当间距 */}.subtitle[data-v-2fc2225a]{font-size:%?30?%;color:#666; /* 颜色更柔和 */line-height:1.5}\n/* 表单卡片 */.form-card[data-v-2fc2225a]{width:92%;background:#fff;padding:%?30?%;border-radius:%?20?%;box-shadow:0 %?4?% %?10?% rgba(0,0,0,.1);background-image:url(/static/web_student_bg.png) /* 替换为你的背景图片路径 */}\n/* 分区标题 */.section-title[data-v-2fc2225a]{font-size:%?32?%;font-weight:700;color:#444;margin:%?20?% 0;border-bottom:%?2?% solid #ddd;padding-bottom:%?10?%}\n/* 按钮 */.btn-container[data-v-2fc2225a]{margin-top:%?40?%;display:flex;justify-content:center}\n/* Form Item 纵向排列 */.form-item[data-v-2fc2225a]{margin-top:%?30?%;margin-bottom:%?30?%}\n/* 标签样式 */.form-label[data-v-2fc2225a]{margin-top:%?10?%;font-size:%?30?%;color:#333;font-weight:700;margin-bottom:%?10?%}\n/* 输入框的容器 */.input-wrapper[data-v-2fc2225a]{width:50%;background-color:#fff;border-radius:%?12?%;box-shadow:0 %?4?% %?10?% rgba(0,0,0,.1); /* 轻微阴影 */padding:%?8?% %?30?%;border:%?1?% solid #ddd; /* 边框 */margin-top:%?10?%;margin-bottom:%?10?%}\n/* 输入框 */.input-field[data-v-2fc2225a]{width:100%;height:%?80?%;font-size:%?30?%;color:#333;background-color:initial;border:none;outline:none}.uni-input[data-v-2fc2225a]{height:%?50?%;padding:%?15?% %?25?%;line-height:%?50?%;font-size:%?28?%;background:#fff;flex:1}.course-title[data-v-2fc2225a]{font-size:%?32?%;font-weight:700;color:#123456;background-color:#f8f9fa;padding:%?30?% %?30?%}.course-title[data-v-2fc2225a]{font-size:%?32?%;font-weight:700;color:#123456;background-color:#f8f9fa;padding:%?30?% %?30?%}.file-name[data-v-2fc2225a]{font-size:%?32?%;font-weight:700;color:#333}.copy-area[data-v-2fc2225a]{cursor:pointer;padding:%?10?%;background:#87ceeb;color:#87ceeb;text-align:center;border-radius:%?8?%}.link-text[data-v-2fc2225a]{color:#87ceeb;text-decoration:underline}.file-time[data-v-2fc2225a]{font-size:%?28?%;color:#888}.file-title[data-v-2fc2225a]{font-size:%?36?%;font-weight:700;margin-bottom:%?20?%;display:block}.file-list[data-v-2fc2225a]{overflow-y:auto}.file-card[data-v-2fc2225a]{background:#f9f9f9;padding:%?20?%;margin-bottom:%?20?%;border-radius:%?12?%;box-shadow:0 %?2?% %?10?% rgba(0,0,0,.1)}.file-header[data-v-2fc2225a]{display:flex;justify-content:space-between;align-items:center;margin-bottom:%?10?%}.selectable-text[data-v-2fc2225a]{-webkit-user-select:text;user-select:text; /* 允许文本复制 */word-wrap:break-word}.head-container[data-v-2fc2225a]{display:flex;flex-direction:column; /* 让头像和按钮垂直排列 */align-items:center;padding:%?20?%}.avatar-box[data-v-2fc2225a]{width:%?250?%;height:%?250?%;border-radius:50%;overflow:hidden;box-shadow:0 0 %?10?% rgba(0,0,0,.2);margin-bottom:%?20?% /* 让头像和按钮有一定间距 */}.avatar[data-v-2fc2225a]{width:100%;height:100%}.button[data-v-2fc2225a]{flex-shrink:0;width:%?200?%}",""]),n.exports=t},ba50:function(n,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{id:0,avatarUrl:"",full_name:"",english_name:"",birthday:"",gender:"",idcard_or_passport:"",visa_type:"",student_id:"",offer_status:1,form:{phoneNumber:"",currentChurch:"",address:"",nationality:"",housingStatus:"",email:""},emergency_contact:"",student_type:"",student_campus:"",program:"",all_credit:0,program_code:"0000",type_of_programme:"",program_description:"",classification:"",year:0,listData:[]}},onLoad:function(){var n=uni.getStorageSync("student_info");n&&(this.full_name=n.full_name,console.log(this.full_name),this.queryUserDetail())},onShow:function(){this.full_name||uni.navigateTo({url:"/pages/index/loginSys"})},methods:{previewAvatar:function(){uni.previewImage({urls:[this.avatarUrl],current:this.avatarUrl,indicator:"default",loop:!1})},queryUserDetail:function(){var n=this;uni.showLoading({title:"处理中..."}),uni.request({url:"https://mbtsserver.onrender.com/api/queryMBTSRegisterUserDetail?id=0&student_id=&full_name="+n.full_name+"&key=registeruser1739935308mbts",method:"GET",header:{"Content-Type":"application/json",Accept:"application/json"},success:function(t){uni.hideLoading(),console.log(t),console.log(t.data.desc),200===t.data.code?(uni.showToast({title:"成功",icon:"success"}),n.student_type=t.data.data[0].student_type,n.emergency_contact=t.data.data[0].emergency_contact,n.visa_type=t.data.data[0].visa_type,n.idcard_or_passport=t.data.data[0].idcard_or_passport,n.gender=t.data.data[0].gender,n.birthday=t.data.data[0].birthday,n.english_name=t.data.data[0].english_name,n.avatarUrl=t.data.data[0].avatar_url,n.id=t.data.data[0].id,n.student_id=t.data.data[0].student_id,n.form.currentChurch=t.data.data[0].current_church,n.form.address=t.data.data[0].address,n.form.email=t.data.data[0].email,n.form.housingStatus=t.data.data[0].housing_status,n.form.nationality=t.data.data[0].nationality,n.form.phoneNumber=t.data.data[0].phone_number,n.student_campus=t.data.data[0].student_campus,n.program=t.data.data[0].program,n.all_credit=t.data.data[0].all_credit,n.program_code=t.data.data[0].program_code,n.type_of_programme=t.data.data[0].type_of_programme,n.program_description=t.data.data[0].program_description,n.classification=t.data.data[0].classification,n.year=t.data.data[0].year,n.offer_status=t.data.data[0].offer_status,n.queryStudentFilesList()):uni.showModal({content:t.data.desc||"获取失败",showCancel:!1})},fail:function(n){uni.hideLoading(),console.log(n),uni.showModal({title:"错误",content:"请求失败，请检查网络连接",showCancel:!1})}})},queryStudentFilesList:function(){uni.showLoading({title:"查询中..."});var n=this;uni.request({url:"https://mbtsserver.onrender.com/api/queryMBTSAdmissionFilesList?student_id="+n.student_id+"&full_name="+n.full_name+"&key=registeruser1739935308mbts",method:"GET",success:function(t){uni.hideLoading(),console.log(t),console.log(t.data.desc),200===t.data.code&&(n.listData=t.data.data)},fail:function(n){uni.hideLoading(),console.log(n)}})},copyLink:function(n){uni.setClipboardData({data:n,success:function(){uni.showToast({title:"链接已复制",icon:"success"})}})},deleteApplication:function(){var n=this;0!==this.offer_status?uni.showModal({title:"确认删除",content:"确定要删除该申请吗？",success:function(t){if(t.confirm){var a=n;uni.showLoading({title:"删除中..."}),uni.request({url:"https://mbtsserver.onrender.com/api/deleteMBTSRegisterUserById?id="+a.id+"&key=registeruser1739935308mbts",method:"GET",header:{"Content-Type":"application/json",Accept:"application/json"},success:function(n){uni.hideLoading(),console.log(n),console.log(n.data.desc),200===n.data.code?(uni.showToast({title:"删除成功",icon:"success"}),setTimeout((function(){uni.navigateBack()}),1e3)):uni.showModal({content:n.data.desc||"获取失败",showCancel:!1})},fail:function(n){uni.hideLoading(),console.log(n),uni.showModal({title:"错误",content:"请求失败，请检查网络连接",showCancel:!1})}})}}}):uni.showModal({title:"错误",content:"录取状态不能手动删除申请，请联系管理员处理！",showCancel:!1})}}};t.default=i},e572:function(n,t,a){var i=a("9c6f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var e=a("967d").default;e("1a93733a",i,!0,{sourceMap:!1,shadowMode:!1})},feec:function(n,t,a){"use strict";a.r(t);var i=a("2355"),e=a("997a");for(var s in e)["default"].indexOf(s)<0&&function(n){a.d(t,n,(function(){return e[n]}))}(s);a("5c69");var r=a("828b"),o=Object(r["a"])(e["default"],i["b"],i["c"],!1,null,"2fc2225a",null,!1,i["a"],void 0);t["default"]=o.exports}}]);