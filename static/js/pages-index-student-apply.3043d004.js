(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-student-apply"],{"13fd":function(n,t,i){"use strict";var a=i("4c51"),e=i.n(a);e.a},"43d8":function(n,t,i){var a=i("c86c");t=a(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 容器 */.container[data-v-37c0cc70]{display:flex;flex-direction:column;background-color:#f8f9fa;min-height:100vh;padding:%?20?%;align-items:center}\n/* 标题区域 */.header[data-v-37c0cc70]{text-align:center;margin-bottom:%?40?% /* 保持整体下边距 */}\n/* 标题样式 */.title-wrapper[data-v-37c0cc70]{margin-bottom:%?20?% /* 🔥 让标题和副标题分开 */}.title[data-v-37c0cc70]{font-size:%?42?%;font-weight:700;color:#333}\n/* 副标题样式 */.subtitle-wrapper[data-v-37c0cc70]{margin-top:%?10?% /* 确保副标题和标题有适当间距 */}.subtitle[data-v-37c0cc70]{font-size:%?30?%;color:#666; /* 颜色更柔和 */line-height:1.5}\n/* 表单卡片 */.form-card[data-v-37c0cc70]{width:92%;background:#fff;padding:%?30?%;border-radius:%?20?%;box-shadow:0 %?4?% %?10?% rgba(0,0,0,.1);background-image:url(/static/web_student_bg.png) /* 替换为你的背景图片路径 */}\n/* 分区标题 */.section-title[data-v-37c0cc70]{font-size:%?32?%;font-weight:700;color:#444;margin:%?20?% 0;border-bottom:%?2?% solid #ddd;padding-bottom:%?10?%}\n/* 按钮 */.btn-container[data-v-37c0cc70]{margin-top:%?40?%;display:flex;justify-content:center}\n/* Form Item 纵向排列 */.form-item[data-v-37c0cc70]{margin-top:%?30?%;margin-bottom:%?30?%}\n/* 标签样式 */.form-label[data-v-37c0cc70]{margin-top:%?10?%;font-size:%?30?%;color:#333;font-weight:700;margin-bottom:%?10?%}\n/* 输入框的容器 */.input-wrapper[data-v-37c0cc70]{width:50%;background-color:#fff;border-radius:%?12?%;box-shadow:0 %?4?% %?10?% rgba(0,0,0,.1); /* 轻微阴影 */padding:%?8?% %?30?%;border:%?1?% solid #ddd; /* 边框 */margin-top:%?10?%;margin-bottom:%?10?%}\n/* 输入框 */.input-field[data-v-37c0cc70]{width:100%;height:%?80?%;font-size:%?30?%;color:#333;background-color:initial;border:none;outline:none}.text-wrap[data-v-37c0cc70]{white-space:normal;word-wrap:break-word}.scroll-text[data-v-37c0cc70]{white-space:nowrap;overflow-x:auto;width:100%}.picker-container[data-v-37c0cc70]{width:100%; /* 让 picker 占满父级 */display:flex;align-items:center;justify-content:left}.uni-input[data-v-37c0cc70]{height:%?50?%;padding:%?15?% %?25?%;line-height:%?50?%;font-size:%?28?%;background:#fff;flex:1}.popup-content[data-v-37c0cc70]{padding:%?20?%}.selectable-text[data-v-37c0cc70]{-webkit-user-select:text;user-select:text; /* 允许文本复制 */word-wrap:break-word}",""]),n.exports=t},"4c51":function(n,t,i){var a=i("43d8");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);var e=i("967d").default;e("658f6629",a,!0,{sourceMap:!1,shadowMode:!1})},"5e8d":function(n,t,i){"use strict";i("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{full_name:"",form:{phoneNumber:"",currentChurch:"",nationality:"",housingStatus:"Residential",email:""},housingOptions:[{label:"Residential",value:"Residential"},{label:"Non-Residential",value:"Non-Residential"}],campusList:[{name:"KV"},{name:"ONL"},{name:"PG"}],campusIndex:0,selectedCampus:"",showPopup:!1,programList:[],programIndex:0,selectedProgram:"",program_code:"",type_of_programme:"",program_description:"",classification:"",year:0,allCredit:0}},onLoad:function(){var n=uni.getStorageSync("student_info");n&&(this.full_name=n.full_name,console.log(this.full_name),this.selectedCampus=this.campusList[0].name,console.log(this.selectedCampus),this.getProgramList(this.selectedCampus))},onShow:function(){this.full_name||uni.navigateTo({url:"/pages/index/loginSys"})},methods:{getProgramList:function(n){console.log("selectedCampus is "+n);var t=this;uni.showLoading({title:"处理中..."}),uni.request({url:"https://mbtsserver.onrender.com/api/queryMBTSProgramListByCampusName",method:"POST",data:{campus_name:n,startnum:0,key:"registeruser1739935308mbts"},header:{"Content-Type":"application/json",Accept:"application/json"},success:function(n){uni.hideLoading(),console.log(n),console.log(n.data.desc),200===n.data.code?(uni.showToast({title:"成功",icon:"success"}),t.programList=n.data.data,t.programIndex=0,t.selectedProgram=t.programList[0].program,t.allCredit=t.programList[0].allCredit,t.program_code=t.programList[0].program_code,t.type_of_programme=t.programList[0].type_of_programme,t.program_description=t.programList[0].program_description,t.classification=t.programList[0].classification,t.year=t.programList[0].year):(t.programList=[],t.programIndex=0,t.selectedProgram="",t.allCredit=0,t.program_code="",t.type_of_programme="",t.program_description="",t.classification="",t.year=0,uni.showModal({content:n.data.desc||"获取失败",showCancel:!1}))},fail:function(n){uni.hideLoading(),console.log(n),uni.showModal({title:"错误",content:"请求失败，请检查网络连接",showCancel:!1})}})},onCampusChange:function(n){console.log(n),this.campusIndex=n.detail.value,this.selectedCampus=this.campusList[this.campusIndex].name,this.getProgramList(this.selectedCampus)},onProgramChange:function(n){console.log(n),this.programIndex=n,this.selectedProgram=this.programList[this.programIndex].program,console.log(this.selectedProgram),this.allCredit=this.programList[this.programIndex].all_credit,this.program_code=this.programList[this.programIndex].program_code,this.type_of_programme=this.programList[this.programIndex].type_of_programme,this.program_description=this.programList[this.programIndex].program_description,this.classification=this.programList[this.programIndex].classification,this.year=this.programList[this.programIndex].year,this.showPopup=!1},submitApplication:function(){if(this.full_name&&this.form.phoneNumber&&this.form.email&&this.form.currentChurch&&this.form.nationality&&this.form.housingStatus)if(this.selectedCampus&&this.selectedProgram){uni.showLoading({title:"提交中..."}),uni.request({url:"https://mbtsserver.onrender.com/api/insertMBTSRegisterUser",method:"POST",data:{full_name:this.full_name,phone_number:this.form.phoneNumber,current_church:this.form.currentChurch,nationality:this.form.nationality,housing_status:this.form.housingStatus,email:this.form.email,student_campus:this.selectedCampus,student_id:"MBTS"+Date.now(),program:this.selectedProgram,all_credit:this.allCredit,program_code:this.program_code,type_of_programme:this.type_of_programme,program_description:this.program_description,classification:this.classification,year:this.year,offer_status:1,fees:0,other_fee:0,other_fee_detail:"",key:"registeruser1739935308mbts"},header:{"Content-Type":"application/json",Accept:"application/json"},success:function(n){uni.hideLoading(),console.log(n),console.log(n.data.desc),200===n.data.code?(uni.showToast({title:"提交成功",icon:"success"}),setTimeout((function(){uni.navigateBack()}),1500)):uni.showModal({content:n.data.desc||"提交失败",showCancel:!1})},fail:function(n){uni.hideLoading(),console.log(n),uni.showModal({title:"错误",content:"请求失败，请检查网络连接",showCancel:!1})}})}else uni.showToast({title:"请选择校区及课程",icon:"none"});else uni.showToast({title:"请填写完整基本信息",icon:"none"})}}};t.default=a},7956:function(n,t,i){"use strict";i.r(t);var a=i("edb6"),e=i("9a25");for(var s in e)["default"].indexOf(s)<0&&function(n){i.d(t,n,(function(){return e[n]}))}(s);i("13fd");var o=i("828b"),r=Object(o["a"])(e["default"],a["b"],a["c"],!1,null,"37c0cc70",null,!1,a["a"],void 0);t["default"]=r.exports},"9a25":function(n,t,i){"use strict";i.r(t);var a=i("5e8d"),e=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(n){i.d(t,n,(function(){return a[n]}))}(s);t["default"]=e.a},edb6:function(n,t,i){"use strict";i.d(t,"b",(function(){return e})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}));var a={uForm:i("2515").default,uRadioGroup:i("3df2").default,uRadio:i("170f").default,uPopup:i("3741").default,uButton:i("c425").default},e=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"title-wrapper"},[i("v-uni-text",{staticClass:"title"},[n._v("入学申请")])],1),i("v-uni-view",{staticClass:"subtitle-wrapper"},[i("v-uni-text",{staticClass:"subtitle"},[n._v("请填写以下信息，我们将尽快与您联系。")])],1)],1),i("v-uni-view",{staticClass:"form-card"},[i("u-form",[i("v-uni-text",{staticClass:"section-title"},[n._v("👤 个人信息")]),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"form-label"},[n._v("Full Name *")]),i("v-uni-view",{staticClass:"input-wrapper"},[i("v-uni-view",{staticClass:"uni-input selectable-text"},[n._v(n._s(n.full_name))])],1)],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"form-label"},[n._v("Email *")]),i("v-uni-view",{staticClass:"input-wrapper"},[i("v-uni-input",{staticClass:"input-field",attrs:{type:"email",placeholder:"请输入您的邮箱"},model:{value:n.form.email,callback:function(t){n.$set(n.form,"email",t)},expression:"form.email"}})],1)],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"form-label"},[n._v("Phone Number *")]),i("v-uni-view",{staticClass:"input-wrapper"},[i("v-uni-input",{staticClass:"input-field",attrs:{type:"number",placeholder:"请输入手机号"},model:{value:n.form.phoneNumber,callback:function(t){n.$set(n.form,"phoneNumber",t)},expression:"form.phoneNumber"}})],1)],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"form-label"},[n._v("Current Church/Organization *")]),i("v-uni-view",{staticClass:"input-wrapper"},[i("v-uni-input",{staticClass:"input-field",attrs:{placeholder:"请输入您所在的教会"},model:{value:n.form.currentChurch,callback:function(t){n.$set(n.form,"currentChurch",t)},expression:"form.currentChurch"}})],1)],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"form-label"},[n._v("Nationality *")]),i("v-uni-view",{staticClass:"input-wrapper"},[i("v-uni-input",{staticClass:"input-field",attrs:{placeholder:"请输入您的国籍"},model:{value:n.form.nationality,callback:function(t){n.$set(n.form,"nationality",t)},expression:"form.nationality"}})],1)],1),i("v-uni-text",{staticClass:"section-title"},[n._v("🏠 住宿信息")]),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"form-label"},[n._v("Housing Status *")]),i("v-uni-view",{staticClass:"input-wrapper"},[i("u-radio-group",{model:{value:n.form.housingStatus,callback:function(t){n.$set(n.form,"housingStatus",t)},expression:"form.housingStatus"}},n._l(n.housingOptions,(function(t){return i("u-radio",{key:t.value,attrs:{name:t.value}},[n._v(n._s(t.label))])})),1)],1)],1),i("v-uni-text",{staticClass:"section-title"},[n._v("🏫 学校信息")]),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"form-label"},[n._v("Student Campus *")]),i("v-uni-picker",{attrs:{value:n.campusIndex,range:n.campusList,"range-key":"name"},on:{change:function(t){arguments[0]=t=n.$handleEvent(t),n.onCampusChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input",attrs:{title:n.campusList[n.campusIndex].name}},[n._v(n._s(n.campusList[n.campusIndex].name))])],1)],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"form-label"},[n._v("Program *")]),i("v-uni-view",{staticClass:"uni-input",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.showPopup=!0}}},[n._v(n._s(n.programList.length>0?n.programList[n.programIndex].program:"无数据"))]),i("u-popup",{attrs:{mode:"bottom",width:"100%"},model:{value:n.showPopup,callback:function(t){n.showPopup=t},expression:"showPopup"}},[i("v-uni-view",{staticClass:"popup-content"},[i("u-radio-group",{on:{change:function(t){arguments[0]=t=n.$handleEvent(t),n.onProgramChange.apply(void 0,arguments)}},model:{value:n.programIndex,callback:function(t){n.programIndex=t},expression:"programIndex"}},n._l(n.programList,(function(t,a){return i("u-radio",{key:a,attrs:{name:a}},[n._v(n._s(t.program))])})),1)],1)],1)],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"form-label"},[n._v("All Credit")]),i("v-uni-view",{staticClass:"input-wrapper"},[i("v-uni-view",{staticClass:"uni-input"},[n._v("总 "+n._s(n.programList.length>0?n.programList[n.programIndex].all_credit:0)+" 学分")])],1)],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"form-label"},[n._v("Program Code")]),i("v-uni-view",{staticClass:"input-wrapper"},[i("v-uni-view",{staticClass:"uni-input"},[n._v(n._s(n.programList.length>0?n.programList[n.programIndex].program_code:""))])],1)],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"form-label"},[n._v("Type Of Programme")]),i("v-uni-view",{staticClass:"input-wrapper"},[i("v-uni-view",{staticClass:"uni-input"},[n._v(n._s(n.programList.length>0?n.programList[n.programIndex].type_of_programme:""))])],1)],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"form-label"},[n._v("Program Description")]),i("v-uni-view",{staticClass:"input-wrapper"},[i("v-uni-view",{staticClass:"uni-input"},[n._v(n._s(n.programList.length>0?n.programList[n.programIndex].program_description:""))])],1)],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"form-label"},[n._v("Classification")]),i("v-uni-view",{staticClass:"input-wrapper"},[i("v-uni-view",{staticClass:"uni-input"},[n._v(n._s(n.programList.length>0?n.programList[n.programIndex].classification:""))])],1)],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"form-label"},[n._v("Year")]),i("v-uni-view",{staticClass:"input-wrapper"},[i("v-uni-view",{staticClass:"uni-input"},[n._v("学制 "+n._s(n.programList.length>0?n.programList[n.programIndex].year:0)+" 学年")])],1)],1)],1),i("v-uni-view",{staticClass:"btn-container"},[i("u-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.submitApplication.apply(void 0,arguments)}}},[n._v("提交申请")])],1)],1)],1)},s=[]}}]);