(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-student-selectCourse"],{1539:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c223");var o={data:function(){return{full_name:"",student_id:"",campus_name:"",currentPage:0,listData:[]}},onLoad:function(t){t&&(this.full_name=t.full_name,console.log(this.full_name),this.student_id=t.student_id,console.log(this.student_id),this.campus_name=t.campus_name,console.log(this.campus_name)),this.queryCourseListByCampusName()},methods:{queryCourseListByCampusName:function(){uni.showLoading({title:"查询中..."});var t=this;uni.request({url:"https://localhost:8848/api/queryMBTSCourseListByCampusName",method:"POST",data:{campus_name:t.campus_name,startnum:t.currentPage,key:"registeruser1739935308mbts"},header:{"Content-Type":"application/json",Accept:"application/json"},success:function(e){uni.hideLoading(),console.log(e),console.log(e.data.desc),200===e.data.code?t.currentPage>0?e.data.data.length>0&&(console.log(e.data.data.length),t.listData=t.listData.concat(e.data.data)):t.listData=e.data.data:uni.showModal({content:e.data.desc||"查询可选课程失败",showCancel:!1}),uni.stopPullDownRefresh()},fail:function(t){uni.hideLoading(),uni.stopPullDownRefresh(),console.log(t),uni.showModal({title:"错误",content:"请求失败，请检查网络连接",showCancel:!1})}})},addMoreData:function(){this.currentPage+=20,this.queryCourseListByCampusName()},onPullDownRefresh:function(){this.currentPage=0,this.queryCourseListByCampusName()},gotoSelectCourse:function(t){console.log("course_name is "+t.course_name);uni.showLoading({title:"提交中..."}),uni.request({url:"https://localhost:8848/api/insertMBTSStudentCourse",method:"POST",data:{full_name:this.full_name,student_id:this.student_id,student_campus:this.campus_name,course_code:t.course_code,course_name:t.course_name,course_credit:t.course_credit,course_lecturer:t.course_lecturer,target_group_student:t.target_group_student,timetable:t.timetable,course_score:"",key:"registeruser1739935308mbts"},header:{"Content-Type":"application/json",Accept:"application/json"},success:function(t){uni.hideLoading(),console.log(t),console.log(t.data.desc),200===t.data.code?uni.showToast({title:"提交成功",icon:"success"}):uni.showModal({content:t.data.desc||"提交失败",showCancel:!1})},fail:function(t){uni.hideLoading(),console.log(t),uni.showModal({title:"错误",content:"请求失败，请检查网络连接",showCancel:!1})}})}}};e.default=o},"40c5":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return o}));var o={uNavbar:a("f9b1").default,uButton:a("c425").default,uLoadmore:a("09ba").default},s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("u-navbar",{attrs:{title:"课程列表","is-back":!0}}),a("v-uni-scroll-view",{staticClass:"course-list",attrs:{"scroll-y":!0}},t._l(t.listData,(function(e,o){return a("v-uni-view",{key:o,staticClass:"course-card"},[a("v-uni-view",{staticClass:"course-header"},[a("v-uni-text",{staticClass:"course-title"},[t._v(t._s(e.course_name))]),a("v-uni-text",{staticClass:"course-code"},[t._v("课程代码: "+t._s(e.course_code))])],1),a("v-uni-view",{staticClass:"course-body"},[a("v-uni-view",{staticClass:"course-info"},[a("v-uni-text",[t._v("学分: "+t._s(e.course_credit))]),a("v-uni-text",[t._v("讲师: "+t._s(e.course_lecturer))])],1),a("v-uni-view",{staticClass:"course-info"},[a("v-uni-text",[t._v("面向对象: "+t._s(e.target_group_student))]),a("v-uni-text",[t._v("时间表: "+t._s(e.timetable))])],1)],1),a("u-button",{staticClass:"select-btn",attrs:{type:"primary",size:"mini"},on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.gotoSelectCourse(e)}}},[t._v("点击选择课程")])],1)})),1),a("u-loadmore",{attrs:{status:t.loadStatus},on:{loadmore:function(e){arguments[0]=e=t.$handleEvent(e),t.addMoreData.apply(void 0,arguments)}}})],1)},n=[]},"9f48":function(t,e,a){"use strict";a.r(e);var o=a("40c5"),s=a("b40f");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("c41b");var u=a("828b"),c=Object(u["a"])(s["default"],o["b"],o["c"],!1,null,"69fdc138",null,!1,o["a"],void 0);e["default"]=c.exports},b40f:function(t,e,a){"use strict";a.r(e);var o=a("1539"),s=a.n(o);for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);e["default"]=s.a},bc17:function(t,e,a){var o=a("c7de");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var s=a("967d").default;s("e2c35576",o,!0,{sourceMap:!1,shadowMode:!1})},c41b:function(t,e,a){"use strict";var o=a("bc17"),s=a.n(o);s.a},c7de:function(t,e,a){var o=a("c86c");e=o(!1),e.push([t.i,".container[data-v-69fdc138]{padding:%?20?%;background-color:#f8f9fa}.course-list[data-v-69fdc138]{height:80vh;overflow-y:auto}.course-card[data-v-69fdc138]{background:#fff;padding:%?20?%;border-radius:%?16?%;margin-bottom:%?20?%;box-shadow:0 %?4?% %?10?% rgba(0,0,0,.1)}.course-header[data-v-69fdc138]{display:flex;justify-content:space-between;align-items:center;margin-bottom:%?10?%}.course-title[data-v-69fdc138]{font-size:%?32?%;font-weight:700;color:#333}.course-code[data-v-69fdc138]{font-size:%?26?%;color:#666}.course-body[data-v-69fdc138]{margin-bottom:%?20?%}.course-info[data-v-69fdc138]{display:flex;justify-content:space-between;font-size:%?28?%;color:#444;margin-bottom:%?5?%}.select-btn[data-v-69fdc138]{width:100%}",""]),t.exports=e}}]);